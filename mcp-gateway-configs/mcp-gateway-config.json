{
  "_comment": "Arquivo de configuração MCP completo para Docker MCP Gateway",
  "_version": "1.0.0",
  "_description": "Este arquivo contém configurações para various clientes MCP se conectarem ao Docker MCP Gateway",

  "configurations": {
    "claude_desktop": {
      "_comment": "Configuração para Claude Desktop",
      "_description": "Use esta configuração no arquivo Claude Desktop (claude_desktop_config.json)",
      "mcpServers": {
        "docker-mcp-gateway": {
          "command": "docker",
          "args": [
            "mcp",
            "gateway",
            "run",
            "--servers=duckduckgo,github,wikipedia,filesystem",
            "--verbose=false",
            "--log-calls=true"
          ],
          "_description": "Configuração básica usando transporte stdio"
        },
        "docker-mcp-gateway-streaming": {
          "command": "docker",
          "args": [
            "mcp",
            "gateway",
            "run",
            "--transport=streaming",
            "--port=8080",
            "--servers=duckduckgo,github,wikipedia,filesystem"
          ],
          "_description": "Configuração usando transporte streaming na porta 8080"
        }
      }
    },

    "vscode": {
      "_comment": "Configuração para VS Code com extensões MCP",
      "_description": "Adicione esta configuração ao settings.json do VS Code",
      "mcp.servers": {
        "docker-mcp-gateway": {
          "command": "docker",
          "args": [
            "mcp",
            "gateway",
            "run",
            "--servers=duckduckgo,github,wikipedia,filesystem"
          ],
          "env": {
            "DOCKER_MCP_LOG_LEVEL": "info",
            "DOCKER_MCP_NATIVE_MODE": "1"
          }
        }
      },
      "mcp.httpServers": {
        "docker-mcp-gateway-http": {
          "url": "http://localhost:8080/mcp",
          "description": "Docker MCP Gateway via HTTP"
        }
      }
    },

    "other_agents": {
      "_comment": "Configurações para outros agentes de IA populares",
      "_description": "Exemplos para diferentes agentes e frameworks",
      "cursor": {
        "command": "docker",
        "args": [
          "mcp",
          "gateway",
          "run",
          "--servers=duckduckgo,github,wikipedia,filesystem"
        ]
      },
      "continue": {
        "command": "docker",
        "args": [
          "mcp",
          "gateway",
          "run",
          "--transport=streaming",
          "--port=8080",
          "--servers=duckduckgo,github,wikipedia,filesystem"
        ]
      },
      "zed": {
        "command": "docker",
        "args": [
          "mcp",
          "gateway",
          "run",
          "--servers=duckduckgo,github,wikipedia,filesystem"
        ]
      },
      "lmstudio": {
        "command": "docker",
        "args": [
          "mcp",
          "gateway",
          "run",
          "--transport=sse",
          "--port=8081",
          "--servers=duckduckgo,github,wikipedia,filesystem"
        ]
      }
    }
  },

  "preconfigured_servers": {
    "_comment": "Servidores MCP pré-configurados para uso imediato",
    "_description": "Estes são os servidores mais úteis configurados para acesso rápido",
    "duckduckgo": {
      "name": "DuckDuckGo Search",
      "description": "Servidor MCP para pesquisas web via DuckDuckGo",
      "image": "mcp/duckduckgo@sha256:68eb20db6109f5c312a695fc5ec3386ad15d93ffb765a0b4eb1baf4328dec14f",
      "allowHosts": [
        "html.duckduckgo.com:443"
      ],
      "tools": [
        "search",
        "fetch_content"
      ]
    },
    "github": {
      "name": "GitHub Integration",
      "description": "Servidor MCP para integração com GitHub",
      "image": "mcp/github",
      "environment_variables": {
        "GITHUB_PERSONAL_ACCESS_TOKEN": "{{secrets.github_token}}"
      },
      "tools": [
        "create_repository",
        "list_repositories",
        "get_repository",
        "create_issue",
        "list_issues"
      ]
    },
    "wikipedia": {
      "name": "Wikipedia",
      "description": "Servidor MCP para consultas enciclopédicas na Wikipedia",
      "image": "mcp/wikipedia",
      "tools": [
        "search",
        "get_page",
        "get_summary"
      ]
    },
    "filesystem": {
      "name": "Filesystem Operations",
      "description": "Servidor MCP para operações de sistema de arquivos locais",
      "image": "mcp/filesystem:1.0.2",
      "runtime_arguments": [
        "--mount",
        "type=bind,src={{project_path}},dst=/project"
      ],
      "package_arguments": [
        "/project"
      ],
      "environment_variables": {
        "LOG_LEVEL": "info"
      },
      "tools": [
        "read_file",
        "write_file",
        "list_directory",
        "create_directory",
        "delete_file",
        "move_file"
      ]
    },
    "postgres": {
      "name": "PostgreSQL Database",
      "description": "Servidor MCP para operações com banco de dados PostgreSQL",
      "image": "mcp/postgres",
      "environment_variables": {
        "POSTGRES_CONNECTION_STRING": "{{secrets.postgres_url}}"
      },
      "tools": [
        "execute_query",
        "list_tables",
        "describe_table",
        "insert_data",
        "update_data",
        "delete_data"
      ]
    },
    "neo4j": {
      "name": "Neo4j Graph Database",
      "description": "Servidor MCP para operações com banco de dados Neo4j",
      "image": "mcp/neo4j",
      "environment_variables": {
        "NEO4J_URI": "bolt://localhost:7687",
        "NEO4J_USERNAME": "neo4j",
        "NEO4J_PASSWORD": "{{secrets.neo4j_password}}"
      },
      "tools": [
        "execute_cypher",
        "read_graph",
        "write_graph",
        "list_nodes",
        "list_relationships"
      ]
    }
  },

  "environment_variables": {
    "_comment": "Variáveis de ambiente necessárias para o funcionamento do gateway",
    "_description": "Configure estas variáveis no seu ambiente ou arquivo .env",
    "required": {
      "DOCKER_HOST": "unix:///var/run/docker.sock",
      "_description": "Socket do Docker para comunicação com o daemon"
    },
    "optional": {
      "DOCKER_MCP_LOG_LEVEL": {
        "default": "info",
        "options": ["debug", "info", "warn", "error"],
        "_description": "Nível de log para o MCP Gateway"
      },
      "DOCKER_MCP_CONFIG_PATH": {
        "default": "~/.docker/mcp/config.yaml",
        "_description": "Caminho para o arquivo de configuração do MCP Gateway"
      },
      "DOCKER_MCP_CATALOG_PATH": {
        "default": "~/.docker/mcp/catalogs/docker-mcp.yaml",
        "_description": "Caminho para o arquivo de catálogo do MCP Gateway"
      },
      "DOCKER_MCP_REGISTRY_PATH": {
        "default": "~/.docker/mcp/registry.yaml",
        "_description": "Caminho para o arquivo de registro do MCP Gateway"
      }
    },
    "secrets": {
      "_comment": "Variáveis de ambiente para secrets sensíveis",
      "_description": "Estas variáveis devem ser configuradas com cuidado",
      "github_token": {
        "_description": "Token de acesso pessoal do GitHub com permissões necessárias",
        "_how_to_get": "GitHub Settings > Developer settings > Personal access tokens"
      },
      "postgres_url": {
        "_description": "String de conexão com o banco PostgreSQL",
        "_format": "postgresql://username:password@host:port/database"
      },
      "neo4j_password": {
        "_description": "Senha do usuário neo4j no banco Neo4j"
      }
    }
  },

  "usage_examples": {
    "_comment": "Exemplos de uso do Docker MCP Gateway",
    "basic_stdio": {
      "_description": "Execução básica usando stdio",
      "command": "docker mcp gateway run",
      "flags": {
        "--servers": "duckduckgo,github,wikipedia,filesystem",
        "--verbose": "false",
        "--log-calls": "true"
      }
    },
    "streaming_transport": {
      "_description": "Execução usando transporte streaming",
      "command": "docker mcp gateway run",
      "flags": {
        "--transport": "streaming",
        "--port": "8080",
        "--servers": "duckduckgo,github,wikipedia,filesystem"
      }
    },
    "sse_transport": {
      "_description": "Execução usando transporte SSE",
      "command": "docker mcp gateway run",
      "flags": {
        "--transport": "sse",
        "--port": "8081",
        "--servers": "duckduckgo,github,wikipedia,filesystem"
      }
    },
    "with_secrets": {
      "_description": "Execução com gerenciamento de secrets",
      "command": "docker mcp gateway run",
      "flags": {
        "--servers": "github,postgres",
        "--secrets": "docker-desktop:./.env"
      }
    },
    "with_custom_config": {
      "_description": "Execução com configuração personalizada",
      "command": "docker mcp gateway run",
      "flags": {
        "--config": "/path/to/custom/config.yaml",
        "--catalog": "/path/to/custom/catalog.yaml",
        "--registry": "/path/to/custom/registry.yaml"
      }
    },
    "docker_compose": {
      "_description": "Execução via Docker Compose",
      "compose_file": {
        "version": "3.8",
        "services": {
          "gateway": {
            "image": "docker/mcp-gateway",
            "command": [
              "--servers=duckduckgo,github,wikipedia,filesystem"
            ],
            "volumes": [
              "/var/run/docker.sock:/var/run/docker.sock"
            ],
            "ports": [
              "8080:8080"
            ]
          }
        }
      }
    }
  },

  "troubleshooting": {
    "_comment": "Dicas de troubleshooting para problemas comuns",
    "common_issues": {
      "docker_socket_permission": {
        "problem": "Permissão negada ao acessar o socket do Docker",
        "solution": "Adicione seu usuário ao grupo docker: sudo usermod -aG docker $USER",
        "alternative": "Execute com sudo ou configure o socket Docker adequadamente"
      },
      "server_not_found": {
        "problem": "Servidor MCP não encontrado no catálogo",
        "solution": "Verifique o nome do servidor em --servers ou adicione ao catálogo personalizado",
        "command": "docker mcp gateway run --verbose --dry-run --servers=nome_do_servidor"
      },
      "connection_refused": {
        "problem": "Conexão recusada ao usar transporte HTTP/SSE",
        "solution": "Verifique se a porta está correta e não está em uso",
        "command": "netstat -tlnp | grep :8080"
      },
      "authentication_failed": {
        "problem": "Falha de autenticação com serviços externos",
        "solution": "Verifique se as variáveis de ambiente com secrets estão configuradas",
        "command": "docker mcp gateway run --secrets=docker-desktop:./.env"
      }
    },
    "debug_commands": {
      "dry_run": {
        "description": "Executa o gateway em modo de teste para verificar configuração",
        "command": "docker mcp gateway run --verbose --dry-run"
      },
      "list_tools": {
        "description": "Lista todas as ferramentas disponíveis",
        "command": "docker mcp tools ls --verbose"
      },
      "call_tool": {
        "description": "Testa uma ferramenta específica",
        "command": "docker mcp tools call --gateway-arg=\"--servers=duckduckgo\" --verbose search query=Docker"
      },
      "inspect_server": {
        "description": "Inspeta um servidor específico",
        "command": "docker mcp server inspect duckduckgo"
      }
    }
  },

  "advanced_configuration": {
    "_comment": "Opções avançadas de configuração",
    "resource_limits": {
      "_description": "Limites de recursos para servidores MCP",
      "cpus": {
        "default": 1,
        "description": "Número de CPUs alocadas para cada servidor MCP"
      },
      "memory": {
        "default": "2Gb",
        "description": "Memória alocada para cada servidor MCP"
      }
    },
    "security": {
      "_description": "Opções de segurança",
      "block_network": {
        "default": false,
        "description": "Bloqueia ferramentas de acessar recursos de rede proibidos"
      },
      "block_secrets": {
        "default": true,
        "description": "Bloqueia secrets de serem enviados/recebidos para/de ferramentas"
      },
      "verify_signatures": {
        "default": false,
        "description": "Verifica assinaturas das imagens dos servidores"
      }
    },
    "interceptors": {
      "_description": "Interceptores para modificar requisições/respostas",
      "format": "when:type:path",
      "examples": [
        "before:exec:/bin/path",
        "after:http:/custom/interceptor"
      ]
    },
    "working_sets": {
      "_description": "Conjuntos de trabalho para organizar servidores",
      "feature_required": "working-sets",
      "enable_command": "docker mcp feature enable working-sets",
      "usage": "--working-set my-working-set"
    }
  }
}